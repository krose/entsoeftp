
<!-- README.md is generated from README.Rmd. Please edit that file -->
entsoeftp
=========

The goal of entsoeftp is to give access to [one of the three](https://entsoe.zendesk.com/hc/en-us/articles/115000173266-Overview-of-data-download-options-on-Transparency-Platform) download options from the Entso-E platform.

The current ftp solution is en beta and will change in mid 2018.

All dates and times are in UTC.

Installation
------------

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("krose/entsoeftp")
```

Example
-------

There are three functions:

-   list high level folders: `entsoe_list_folders()`
-   list files in a folder: `entsoe_list_files()`
-   download\_file: `entsoe_entsoe_get_file()`

List the folders on the server:

``` r
suppressPackageStartupMessages(library(tidyverse))
library(entsoeftp)

glimpse(entsoe_list_folders())
#> Observations: 86
#> Variables: 6
#> $ perm  <chr> "drwxr-xr-x", "drwxr-xr-x", "drwxr-xr-x", "drwxr-xr-x", ...
#> $ dir   <chr> "2 ftp", "2 ftp", "2 ftp", "2 ftp", "2 ftp", "2 ftp", "2...
#> $ group <chr> "", "", "", "", "", "", "", "", "", "", "", "", "", "", ...
#> $ size  <chr> "01", "01", "01", "01", "01", "01", "01", "01", "01", "0...
#> $ date  <S3: POSIXlt> 2018-04-01 07:23:00, 2018-04-01 07:27:00, 2018-0...
#> $ links <chr> "AcceptedAggregatedOffers", "ActivatedBalancingEnergy", ...
```

List the folders on the server:

``` r

glimpse(entsoe_list_files(basis_name = "OutagesPU"))
#> Observations: 80
#> Variables: 6
#> $ perm  <chr> "-rw-rw-r--", "-rw-rw-r--", "-rw-rw-r--", "-rw-rw-r--", ...
#> $ dir   <chr> "1 ftp", "1 ftp", "1 ftp", "1 ftp", "1 ftp", "1 ftp", "1...
#> $ group <chr> "", "", "", "", "", "", "", "", "", "", "", "", "", "", ...
#> $ size  <chr> "01", "01", "01", "01", "01", "01", "01", "01", "01", "0...
#> $ date  <S3: POSIXlt> 2018-04-01 09:49:00, 2018-04-01 09:49:00, 2018-0...
#> $ file  <chr> "2014_12_OutagesPU.csv", "2015_10_OutagesPU.csv", "2015_...
```

Download af file for a specified month from the server:

``` r

glimpse(entsoe_get_file(basis_name = "OutagesPU"))
#> Observations: 887
#> Variables: 22
#> $ year                   <int> 2018, 2018, 2018, 2018, 2018, 2018, 201...
#> $ month                  <int> 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, ...
#> $ day                    <int> 14, 14, 30, 30, 30, 21, 23, 30, 18, 2, ...
#> $ StartTS                <dttm> 2018-04-14 22:00:00, 2018-04-14 22:00:...
#> $ EndTS                  <dttm> 2018-04-15 22:00:00, 2018-04-15 22:00:...
#> $ Status                 <chr> "Cancelled", "Cancelled", "Cancelled", ...
#> $ Type                   <chr> "Planned", "Planned", "Planned", "Plann...
#> $ DataProvider           <chr> "CEPS", "Configuration Link", "Configur...
#> $ AreaTypeCode           <chr> "CTA", "BZN", "BZN", "BZN", "CTA", "CTA...
#> $ AreaName               <chr> "CEPS CA", "CEPS BZ", "CEPS BZ", "swiss...
#> $ MapCode                <chr> "CZ", "CZ", "CZ", "CH", "CZ", "DE_Trans...
#> $ AreatSourceName        <chr> NA, "CEPS CA", "CEPS CA", "swissgrid CA...
#> $ UnitName               <chr> "EPR1_______", "EPR1_______", "EME1____...
#> $ ProdType               <chr> "Fossil Brown coal/Lignite", "Fossil Br...
#> $ VoltageConnectionLevel <dbl> 400, 400, 110, 220, 110, 220, 400, 220,...
#> $ InstalledGenCapacity   <dbl> 393.0, 393.0, 275.0, 334.8, 275.0, 1856...
#> $ AvailableCapacity      <dbl> 196.6, 196.6, 108.0, 180.0, 117.1, 1696...
#> $ OutageReason1          <chr> "Maintenance", "Maintenance", "Maintena...
#> $ OutageReason2          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ OutageReason3          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ OutageReason4          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ SubmissionTS           <dttm> 2017-05-31 08:03:55, 2017-05-31 08:03:...

glimpse(entsoe_get_file(basis_name = "OutagesPU", year = 2018, month = 3))
#> Observations: 5,859
#> Variables: 22
#> $ year                   <int> 2018, 2018, 2018, 2018, 2018, 2018, 201...
#> $ month                  <int> 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ...
#> $ day                    <int> 18, 22, 22, 22, 30, 30, 22, 26, 26, 26,...
#> $ StartTS                <dttm> 2018-03-18 23:00:00, 2018-03-22 13:00:...
#> $ EndTS                  <dttm> 2018-06-15 22:00:00, 2018-03-22 15:00:...
#> $ Status                 <chr> "Cancelled", "Cancelled", "Cancelled", ...
#> $ Type                   <chr> "Planned", "Planned", "Planned", "Plann...
#> $ DataProvider           <chr> "Configuration Link", "EEX", "Configura...
#> $ AreaTypeCode           <chr> "CTA", "CTA", "BZN", "BZN", "CTA", "BZN...
#> $ AreaName               <chr> "Elering CA", "Amprion CA", "DE-AT-LU",...
#> $ MapCode                <chr> "EE", "DE_Amprion", "DE_AT_LU", "DE_AT_...
#> $ AreatSourceName        <chr> "Elering BZ", NA, "Amprion CA", "Amprio...
#> $ UnitName               <chr> "Eesti Elektrijaam", "Kaunertal (TIWAG)...
#> $ ProdType               <chr> "Fossil Oil shale", "Hydro Water Reserv...
#> $ VoltageConnectionLevel <dbl> 330, 220, 220, 220, 400, 400, 220, 220,...
#> $ InstalledGenCapacity   <dbl> 1369, 360, 360, 360, 393, 393, 360, 185...
#> $ AvailableCapacity      <dbl> 0.0, 216.0, 216.0, 216.0, 196.7, 196.7,...
#> $ OutageReason1          <chr> "Annual maintenance of the unit.", "Oth...
#> $ OutageReason2          <chr> "", "", "", "", NA, NA, "", NA, NA, NA,...
#> $ OutageReason3          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ OutageReason4          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ SubmissionTS           <dttm> 2016-12-28 12:15:57, 2017-06-30 09:52:...
```
